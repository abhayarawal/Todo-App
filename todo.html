<!DOCTYPE html>
    
<html lang=en>
<head>
    <meta charset=utf-8>
    <title>Todos</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/todo.css">

    <!--HTML5 Shiv-->
    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
	<div>What to do?</div>
	<div class=wrap>
		<input placeholder="Type and hit enter" name="todo" type="text" autocomplete="off" />
		<ul class='priority right'>
			<li class="red translucent" data-priority=high data-selection='deselected'></li>
			<li class="blue translucent" data-priority=medium data-selection='deselected'></li>
			<li class="white" data-priority=low data-selection='deselected'></li>
		</ul>
		<div class="clear"></div>
	</div>
	<ul id="sortable">
		<li>
			<input type="checkbox" class="todo-check"><span>dead man's drop</span> <span class=cross>x</span>
			<input type="hidden" data-id="" data-val="dead man's drop" data-priority="" />
			<div class=wrap>
				<input placeholder="Type and hit enter" value="" name="todo" type="text" autocomplete="off" />
				<ul class='priority right'>
					<li class="red translucent" data-priority=high data-selection='deselected'></li>
					<li class="blue translucent" data-priority=medium data-selection='deselected'></li>
					<li class="white" data-priority=low data-selection='deselected'></li>
				</ul>
				<div class="clear"></div>
			</div>
		</li>
		<li>
			<input type="checkbox" class="todo-check"><span class=high>kick buttowski</span> <span class=cross>x</span>
			<input type="hidden" data-id="" data-val="kick buttowski" data-priority="" />
			<div class=wrap>
				<input placeholder="Type and hit enter" value="" name="todo" type="text" autocomplete="off" />
				<ul class='priority right'>
					<li class="red translucent" data-priority=high data-selection='deselected'></li>
					<li class="blue translucent" data-priority=medium data-selection='deselected'></li>
					<li class="white" data-priority=low data-selection='deselected'></li>
				</ul>
				<div class="clear"></div>
			</div>
		</li>
		<li>
			<input type="checkbox" class="todo-check"><span class=medium>yeah brad!</span> <span class=cross>x</span>
			<input type="hidden" data-id="" data-val="yeah brad!" data-priority="" />
			<div class=wrap>
				<input placeholder="Type and hit enter" value="" name="todo" type="text" autocomplete="off" />
				<ul class='priority right'>
					<li class="red translucent" data-priority=high></li>
					<li class="blue translucent" data-priority=medium></li>
					<li class="white" data-priority=low></li>
				</ul>
				<div class="clear"></div>
			</div>
		</li>
		<li>
			<input type="checkbox" class="todo-check"><span>the way of the wade</span> <span class=cross>x</span>
			<input type="hidden" data-id="" data-val="the way of the wade" data-priority="" />
			<div class=wrap>
				<input placeholder="Type and hit enter" value="" name="todo" type="text" autocomplete="off" />
				<ul class='priority right'>
					<li class="red translucent" data-priority=high data-selection='deselected'></li>
					<li class="blue translucent" data-priority=medium data-selection='deselected'></li>
					<li class="white" data-priority=low data-selection='deselected'></li>
				</ul>
				<div class="clear"></div>
			</div>
		</li>
	</ul>
	<div>
		<span>-- tasks left</span>
	</div>
</div>
<script type="text/template" id="todo-template">
	<input type="checkbox" class="todo-check"><span class=<%= priority %>><%= todo %></span> <span class=cross>x</span>
</script>
<script src="js/jquery-1.7.2.min.js"></script>
<script src="js/jquery-ui-1.8.20.custom.min.js"></script>
<script src="js/underscore-min.js"></script>
<script src="js/backbone-min.js"></script>
<script src="js/todoApp.js"></script>
<script>
	$(function() {
		$( "#sortable" ).sortable();
		$( "#sortable" ).disableSelection();
		$( "#sortable" ).sortable({ opacity: 0.8 });


		$("#sortable").on("click", ":checkbox", function () {
			if ($(this).is(':checked')) {
				$(this).next('span').addClass('strike');
			} else {
				$(this).next('span').removeClass('strike');
			}
		}); 

		$("#sortable").on("click", ".cross", function() {
			$(this).parent().animate({ marginLeft: -600 }).slideUp('normal').fadeOut(50, function() {
				$(this).remove();
			});
		});  
		//$(document).on("click", "a.offsite", function(){ alert("Goodbye!"); });  
		$(".priority").on("click", "li", function() {
			$(this).siblings('li').removeClass('opaque').addClass('translucent');
			$(this).removeClass('translucent').addClass('opaque');
		}); 

		$( "#sortable li" ).children('div').hide();

		$("#sortable").on("dblclick", "li", function(){
			var val = $( this ).children('input:hidden').attr('data-val');
			$( this ).children('div').children('input:text').attr('value', val);
			$( this ).children().hide();
			$( this ).children('div').show();

			$( this ).siblings('li').children().show();
			$( this ).siblings('li').children('div').hide();
		});
	});
</script>
</body>
</html>